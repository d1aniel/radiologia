<div class="mx-auto w-full max-w-[800px] rounded-xl bg-white p-4 sm:p-6 shadow-sm">
  <div class="flex items-center justify-between mb-4">
    <h2 class="text-lg font-semibold text-slate-800">
      Editar Modalidad
    </h2>

    <button
      pButton
      type="button"
      class="p-button p-component p-button-text"
      icon="pi pi-arrow-left"
      label="Volver"
      (click)="cancelar()">
    </button>
  </div>

  <form [formGroup]="form" (ngSubmit)="submit()" class="space-y-4 text-sm">
    
    <div>
      <label class="block mb-1 font-medium" for="nombre">Nombre*</label>
      <input
        id="nombre"
        type="text"
        pInputText
        formControlName="nombre"
        placeholder="Ej. RX / TAC / RM"
        class="w-full"
        [ngClass]="{
          'p-invalid': form.get('nombre')?.invalid && form.get('nombre')?.touched
        }"
      />
      <small class="text-red-600" *ngIf="form.get('nombre')?.touched && form.get('nombre')?.invalid">
        El nombre es obligatorio (mín. 2 caracteres).
      </small>
    </div>

    
    <div>
      <label class="block mb-1 font-medium" for="descripcion">Descripción*</label>
      <textarea
        id="descripcion"
        pTextarea
        rows="3"
        class="w-full"
        formControlName="descripcion"
        placeholder="Breve descripción de la modalidad"
        [ngClass]="{
          'p-invalid': form.get('descripcion')?.invalid && form.get('descripcion')?.touched
        }"
      ></textarea>
      <small class="text-red-600" *ngIf="form.get('descripcion')?.touched && form.get('descripcion')?.invalid">
        La descripción es obligatoria (mín. 5 caracteres).
      </small>
    </div>

    
    <div class="flex items-center gap-3">
      <p-toggleSwitch formControlName="activa"></p-toggleSwitch>
      <span class="select-none">Activa</span>
    </div>

    
    <div class="flex items-center justify-end gap-2 pt-2">
      <button
        pButton
        type="button"
        class="p-button-text p-button-sm"
        label="Cancelar"
        (click)="cancelar()">
      </button>

      <button
        pButton
        type="submit"
        label="Guardar cambios"
        icon="pi pi-check"
        class="p-button-sm"
        [disabled]="loading || form.invalid"
        [loading]="loading">
      </button>
    </div>
  </form>
</div>

<p-toast></p-toast>
