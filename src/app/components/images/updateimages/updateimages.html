
<div class="mx-auto w-full max-w-[880px] rounded-xl bg-white p-4 sm:p-6 shadow-sm">
  <div class="flex items-center justify-between mb-4">
    <h2 class="text-lg font-semibold text-slate-800">
      Editar Imagen de Estudio
    </h2>

    <button
      pButton
      type="button"
      class="p-button p-component p-button-text"
      icon="pi pi-arrow-left"
      label="Volver"
      (click)="cancelar()">
    </button>
  </div>

  <form [formGroup]="form" (ngSubmit)="submit()" class="grid grid-cols-12 gap-3 text-sm">

    
    <div class="col-span-12 md:col-span-6">
      <label for="estudioId" class="block mb-1 text-sm font-medium text-slate-700">Estudio</label>
      <p-select
        inputId="estudioId"
        formControlName="estudioId"
        [options]="estudios"
        optionLabel="label"
        optionValue="value"
        placeholder="Seleccione..."
        class="w-full">
      </p-select>
      <small class="block mt-1 text-xs text-red-600"
             *ngIf="f['estudioId'].touched && f['estudioId'].errors?.['required']">
        El estudio es obligatorio.
      </small>
    </div>

    
    <div class="col-span-12 md:col-span-6">
      <label for="tipo" class="block mb-1 text-sm font-medium text-slate-700">Tipo</label>
      <p-select
        inputId="tipo"
        formControlName="tipo"
        [options]="tiposImagen"
        optionLabel="label"
        optionValue="value"
        placeholder="Seleccione..."
        class="w-full">
      </p-select>
      <small class="block mt-1 text-xs text-red-600"
             *ngIf="f['tipo'].touched && f['tipo'].errors?.['required']">
        El tipo es obligatorio.
      </small>
    </div>

    
    <div class="col-span-12 md:col-span-6">
      <label for="nombreArchivo" class="block mb-1 text-sm font-medium text-slate-700">
        Nombre de archivo
      </label>
      <input
        id="nombreArchivo"
        type="text"
        pInputText
        formControlName="nombreArchivo"
        class="w-full"
        readonly />
    </div>

    
    <div class="col-span-12 md:col-span-6">
      <label for="tamanoBytes" class="block mb-1 text-sm font-medium text-slate-700">
        Tamaño (bytes)
      </label>
      <input
        id="tamanoBytes"
        type="text"
        pInputText
        formControlName="tamanoBytes"
        class="w-full"
        readonly />
    </div>

    
    <div class="col-span-12">
      <label for="url" class="block mb-1 text-sm font-medium text-slate-700">
        URL almacenada
      </label>
      <input
        id="url"
        type="text"
        pInputText
        formControlName="url"
        class="w-full"
        readonly />
      <small class="block mt-1 text-xs text-slate-500">
        Esta es la ruta pública o relativa con la que se sirve la imagen.
      </small>
    </div>

    
    <div class="col-span-12 md:col-span-6">
      <label for="serie" class="block mb-1 text-sm font-medium text-slate-700">Serie</label>
      <input
        id="serie"
        type="text"
        pInputText
        formControlName="serie"
        placeholder="Ej. Serie axial"
        class="w-full" />
      <small class="block mt-1 text-xs text-red-600"
             *ngIf="f['serie'].touched && f['serie'].errors?.['required']">
        La serie es requerida cuando el tipo es "Serie".
      </small>
    </div>

    
    <div class="col-span-12 md:col-span-6">
      <label for="orden" class="block mb-1 text-sm font-medium text-slate-700">Orden</label>
      <input
        id="orden"
        type="number"
        formControlName="orden"
        placeholder="Ej. 1"
        class="w-full" />
      <small class="block mt-1 text-xs text-red-600"
             *ngIf="f['orden'].touched && f['orden'].errors?.['min']">
        El orden debe ser un número positivo.
      </small>
    </div>

    
    <div class="col-span-12 flex justify-end gap-2 mt-4">
      <button
        pButton
        type="button"
        class="p-button-text"
        label="Cancelar"
        (click)="cancelar()"
        [disabled]="loading">
      </button>

      <button
        pButton
        type="submit"
        label="Guardar cambios"
        [disabled]="loading || form.invalid"
        [loading]="loading">
      </button>
    </div>
  </form>
</div>

<p-toast></p-toast>
